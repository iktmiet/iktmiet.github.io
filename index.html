<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <!-- –®–†–ò–§–¢–´ -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600&display=swap">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600&display=swap">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">  
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>–ò–ö–¢-21 –ú–ò–≠–¢</title>
    
        <!-- PWA -->
        <link rel="manifest" href="manifest.json">
        <link rel="import" href="meta.html">

        <!-- –°–¢–ò–õ–ò -->
        <link rel="stylesheet" href="styles/main.css" />
        <link rel="stylesheet" href="styles/modalWindow.css" />
        <link rel="stylesheet" href="styles/legend.css" />
        <link rel="stylesheet" href="styles/stories.css" />
        <link rel="stylesheet" href="styles/schedule.css" />
        <link rel="stylesheet" href="styles/blocks.css" />

        <!-- –°–ö–†–ò–ü–¢–´ -->
        <script src="scripts/stories.js"></script>
        <script src="scripts/modal_window.js"></script>
        <script src="scripts/global_stories.js"></script>
        <script src="scripts/getRandomJoke.js"></script>
        <script src="scripts/getCurrentWeek.js"></script>
        <script src="scripts/changeSchedule.js"></script>
        <script src="scripts/goToCurrentDay.js"></script>

        <script src="scripts/global_numerator_schedule.js"></script>
        <script src="scripts/global_denominator_schedule.js"></script>

        <!-- –ò–ö–û–ù–ö–ê -->
        <link rel="icon"          type="image/x-icon" href="./icons/logo.ico">
        <link rel="shortcut icon" type="image/x-icon" href="./icons/logo.ico">
    </head>

    <body>
        <!-- –ó–∞–ø—É—Å–∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <script>
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–∞ –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–∞
            var isNotFirstVisit = localStorage.getItem('isNotFirstVisitSem3');

            if (!isNotFirstVisit) {
                // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ, –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–æ–≤—ã–≤–∞–µ–º
                window.location.href = 'welcome';
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –æ —Ç–æ–º, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞
                localStorage.setItem('isNotFirstVisitSem3', 'true');
            }
        </script>

        <!-- ----------------- -->

        <!--      .HEADER      -->

        <!-- ----------------- -->

        <header class="main-header">
            <h1>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h1>

            <!-- –ö–Ω–æ–ø–∫–∏ (–≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫) -->

            <div class="button-container">
                <button style="margin-right:5px" id="numeratorBtn" class="active-button" onclick="changeSchedule('numerator')">
                    –ß–∏—Å–ª–∏—Ç–µ–ª—å
                    <span id="numeratorCircle" class="num-notification"></span>
                </button>

                <button style="margin-left: 5px;" id="denominatorBtn" class="inactive-button" onclick="changeSchedule('denominator')">
                    –ó–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å
                    <span id="denominatorCircle" class="den-notification"></span>
                </button>
            </div>

            <!-- –†–ê–ó–î–ï–õ–ò–¢–ï–õ–¨ -->

            <br />

            <!-- –ö–Ω–æ–ø–∫–∏ (–Ω–∏–∂–Ω–∏–π –±–ª–æ–∫) -->

            <button id="booksBtn" style="margin-right: 5px; margin-bottom: 20px;" class="additional-button" onclick="redirectToBooksPage()">
                üìö
                <script>
                    function redirectToBooksPage() {
                        window.location.href = 'books';
                    }
                </script>
            </button>

            <button id="linksBtn" style="margin-right: 5px; margin-bottom: 20px;" class="additional-button" onclick="redirectToLinksPage()">
                üîó
                <script>
                    function redirectToLinksPage() {
                        window.location.href = 'links';
                    }
                </script>
            </button>

            <button 
                id="todayBtn" 
                style="margin-right: 5px; margin-bottom: 20px;" 
                class="additional-button" 
                onclick="goToCurrentDay();"
            >
                –°–µ–≥–æ–¥–Ω—è
            </button>

        </header>

        
        <!-- ----------------- -->
        <!--    –¢–ï–ö. –ù–ï–î–ï–õ–Ø    -->
        <!-- ----------------- -->

        <div class="day-block" style="width: auto; padding: 15px;">
            <div class='my-legend'>
                <div class='legend-scale'>
                    <b id="weekLegend">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏... –û–±–æ–∂–¥–∏—Ç–µ...</b>
                </div>
            </div>
        </div>

        <!-- ----------------- -->
        <!--   –û–¢–û–ë–†. –õ–ï–ì–ï–ù–î–´  -->
        <!-- ----------------- -->

        <div class="day-block" style="width: auto; padding: 15px 5px;">
            <div class='my-legend'>
                <div class='legend-scale'>
                    <ul class='legend-labels'>
                        <li><span style='background:var(--lecture);'></span>–õ–µ–∫—Ü–∏—è</li>
                        <li><span style='background:var(--seminar);'></span>–°–µ–º–∏–Ω–∞—Ä</li>
                        <li><span style='background:var(--lab);'></span>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è</li>
                    </ul>
                </div>
            </div>
        </div>


        <!-- -------------- -->
        <!--   –†–ê–°–ü–ò–°–ê–ù–ò–ï   -->
        <!-- -------------- -->

        <!--    –ß–ò–°–õ–ò–¢–ï–õ–¨   -->
        <script> var numeratorSchedule = NUMERATOR_SCHEDULE; </script>
        <!--   –ó–ù–ê–ú–ï–ù–ê–¢–ï–õ–¨  -->
        <script> var denominatorSchedule = DENOMINATOR_SCHEDULE; </script>

        <!-- ----------------- -->
        <!--     –°–ö–†–ò–ü–¢ –î–õ–Ø    -->
        <!--     –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø   -->
        <!--   –¢–ï–ö–£–©–ï–ô –ù–ï–î–ï–õ–ò  -->
        <!-- ----------------- -->

        <script> document.addEventListener("DOMContentLoaded", function() {getCurrentWeek();}); </script>
        
        <!-- ----------------- -->

        <!--  –ë–õ–û–ö –†–ê–°–ü–ò–°–ê–ù–ò–Ø  -->

        <!-- ----------------- -->

        <main class="schedule-container">
            <!-- ----------------- -->
            <!--     –ò–ù–§–û–†–ú–ê–¶–ò–Ø    -->
            <!-- ----------------- -->
            <script>
                checkViews('pwaStory')
            </script>
            
            <div class="stories-block">
                <div 
                    class="story unviewed" 
                    onclick="openStoriesPage('Stories')" 
                    data-story-id="Stories"
                    style="background: linear-gradient(45deg, #a9c2f7, #a1fdc4);"
                >
                    <i class="material-symbols-outlined time-icon" style="font-size: 36px; color: black;">kid_star</i>
                </div>
            </div>
        
            <!-- ----------------- -->
            <!--     –†–ê–°–ü–ò–°–ê–ù–ò–ï    -->
            <!--     –ù–ê –ù–ï–î–ï–õ–Æ     -->
            <!-- ----------------- -->

            <div id="scheduleContainer" class="schedule-container"></div>
        </main>


        <!-------------------------->

        <!--       –ê–ù–ï–ö–î–û–¢–´       -->

        <!-------------------------->

        <div class="schedule-container">
            <div class="day-block" style="background-color: #212121;">
                <div class="day-title" style="background-color: #2a2a2a;">–ê–ù–ï–ö–î–û–¢ –î–ù–Ø</div>
                <div class="class-item practice">
                    <div id="anekdotText">
                        –ò—â–µ–º –¥–ª—è –≤–∞—Å —Å–∞–º—ã–π —Å–º–µ—à–Ω–æ–π –∞–Ω–µ–∫–¥–æ—Ç –¥–Ω—è...
                    </div>
                </div>
            </div>
        </div>

        <script>
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–Ω–µ–∫–¥–æ—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            window.addEventListener('load', loadRandomAnekdot);
        </script>

        <!-- –¢–µ–∫—Å—Ç –≤ –Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->

        <div class="footer-text">
            –ë–ê–ó–ê –ò–ö–¢-21 | –ú–ò–≠–¢ 2024-2025
            <br/>
            <div class="alpha50"><div id="lastUpdate"></div></div>
            <br />
            <br />
            <div id="version">–í–µ—Ä—Å–∏—è 3.X.X (...) | dev: @eagalts</div>

            <script src="scripts/global_var.js"></script>
            <script>
                document.getElementById('lastUpdate').innerHTML = `–ü–û–°–õ–ï–î–ù–ï–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï: ${appInfo.lastUpdate}`;
                document.getElementById('version').innerHTML = `ver: ${appInfo.version} | dev: @eagalts`;
            </script>
        </div>
    </body>
</html>